{"mappings":"AAAA,MAAMA,UAAYC,EAAE,aACdC,QAAUF,UAAUG,KAAK,WACzBC,EAAIC,aAAaC,QAAQ,KACzBC,QAAUC,KAAKC,MAAML,GACrBM,QAAUH,SAAW,GAErBI,OAAS,KACXX,UAAUG,KAAK,QAAQS,SACvBF,QAAQG,SAAQ,CAACC,EAAMC,KACPd,EAAE,yMAYfa,EAAAE,4CACAF,EAAAG,KAAA,8CAELH,EAAAG,+CAOGC,aAAYhB,SACFiB,GAAG,QAAO,UAAQC,IACjBV,QAAQW,OAAON,EAAM,GACtBJ,OAAIW,KAAS,KAAG,GACnB,GACH,EAEW,OAAUZ,SAATC,OAAAW,KAAA,M,gBACHH,GAAI,c,IACVH,EAAAO,OAAUC,OAAM,eACR,IAARR,EAAGS,QAAK,UACTT,EAAA,WAAAA,EACHU,QAAYC,IAAIX,IAGxB,IAAOY,EAAAL,OAAcC,OAAS,eAC1Bd,QAAQmB,KAAK,CACKZ,KAAZW,EACNE,SAAa,OAGjBd,QAEAL,OAAAW,KAAA,S,OAEAS,eAAA,KACAL,QAAAC,IAAA,cACA,MAAAK,EAAaxB,KAAAyB,UAAAvB,SACbL,aAAA6B,QAAA,IAA4BF,EAAA","sources":["src/main.js"],"sourcesContent":["const $siteList = $(`.siteList`);\r\nconst $lastLi = $siteList.find(`li.last`);\r\nconst x = localStorage.getItem(`x`);\r\nconst xObject = JSON.parse(x);\r\nconst hashMap = xObject || [];\r\n\r\nconst render = () => {\r\n    $siteList.find(`.new`).remove();\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li class=\"new\">\r\n            <div class=\"close\"><svg class=\"icon\" aria-hidden=\"true\">\r\n                <use xlink:href=\"#icon-closel\"></use>\r\n            </svg></div>        \r\n            <a href=\"${node.url}\">\r\n                <div class=\"logo\">${node.logo[0]}</div>\r\n                <div class=\"url\">${node.logo}</div>\r\n            </a>\r\n        </li>`).insertBefore($lastLi);\r\n        $li.on(`click`, `.close`, (e) => {\r\n        hashMap.splice(index, 1);\r\n        render.call(null,);\r\n    });\r\n    });\r\n  \r\n};\r\n\r\nif (hashMap !== null) {\r\n    render.call(null,);\r\n};\r\n\r\n$(`.addButton`)\r\n    .on(`click`, () => {\r\n        let url = window.prompt(`请输入想要添加的网址：`);\r\n        if (url.indexOf(`http`) !== 0) {\r\n            url = `https://` + url;\r\n            console.log(url)\r\n        }\r\n        let name = window.prompt(`请输入收藏的网站名称：`);\r\n        hashMap.push({\r\n            logo: name,\r\n            logoType: \"text\",\r\n            url: url\r\n        });\r\n        render.call(null,);\r\n    });\r\n\r\nwindow.onbeforeunload = () => {\r\n    console.log(`页面关闭,开始存储。`);\r\n    const string = JSON.stringify(hashMap);\r\n    localStorage.setItem(`x`, string);//在本地设置一个key为x，其值为string。\r\n}\r\n\r\n// $(document).on(`keypress`, (e) => {\r\n//     console.log(e.key)\r\n//     const { key } = e;//是const key = e.key的简写。\r\n//     for (let i = 0; i < hashMap.length; i++){\r\n//         if (hashMap.logo[0] === key) {\r\n//             window.open(hashMap[i].url);\r\n//         };\r\n//         console.log(key);\r\n//     };\r\n// })"],"names":["$siteList","$","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","render","remove","forEach","node","index","url","logo","insertBefore","on","e","splice","call","window","prompt","indexOf","console","log","name","push","logoType","onbeforeunload","string","stringify","setItem"],"version":3,"file":"index.de85cfc6.js.map"}